/**
 * @license badiDate v1.0.0
 * (c) 2016 Jan Greis
 * licensed under MIT
 */
function badiDate(c){function e(c){var e;if("l4da"===B[0]){var a=B[c-172],t=a.split(""),l=String(c-172+2015)+"-03-"+String(parseInt(t[0],36)),n=parseInt(t[1],36),r=[parseInt(t[2],36),parseInt(t[3],36)],d=r[1]<19?[r[0],r[1]+1]:[r[0]+1,1];e={NR:l,aHL:n,TB:[r[0],r[1],d[0],d[1]]}}else e=B[c];return e}function a(){if(u.isBefore(O[0])||u.isAfter(O[1]))d();else{var c=u.year();u.isBefore(moment.utc("2015-03-21"))?(u.isBefore(c+"-03-21")?(f=moment.utc((c-1).toString()+"-03-21"),b=c-1844):(f=moment.utc(c.toString()+"-03-21"),b=c-1843),y=k(f)):(h=e(c-1843),u.isBefore(moment.utc(h.NR))?(h=e(c-1844),b=c-1844):b=c-1843,f=moment.utc(h.NR),y=h.aHL);var a=r();m=a[0],g=a[1]}}function t(a){if(b=parseInt(a[0]),b<M[0]||b>M[1])return void d();if(172>b?(f=moment.utc([1843+b,2,21]),y=k(f)):(h=e(b),f=moment.utc(h.NR),y=h.aHL),void 0!==c[2])m=parseInt(a[1]),g=parseInt(a[2]),20===m&&g>y&&(g-y===1?(m=19,g=1):d());else switch(a[1]=parseInt(a[1]),a[1]){case 1:m=1,g=1;break;case 2:m=2,g=13;break;case 3:m=3,g=2;break;case 4:m=3,g=5;break;case 5:m=4,g=8,172>b&&(g=7);break;case 6:m=4,g=13;break;case 7:m=6,g=17,172>b&&(g=16);break;case 8:172>b?(m=12,g=5):(m=h.TB[0],g=h.TB[1]);break;case 9:172>b?(m=13,g=9):(m=h.TB[2],g=h.TB[3]);break;case 10:m=14,g=4;break;case 11:m=14,g=6;break;default:return void d()}var t=f.diff(moment.utc([b+1843]),"days")+n("badi");u=moment.utc([b+1843]),u.dayOfYear(t),u.hour(12)}function l(){1===m&&1===g?v=D.nawRuz:2===m&&13===g?v=D.firstDayOfRidvan:3===m&&2===g?v=D.ninthDayOfRidvan:3===m&&5===g?v=D.twelfthDayOfRidvan:4===m&&13===g?v=D.ascensionOfBahaullah:14===m&&4===g?v=D.dayOfTheCovenant:14===m&&6===g&&(v=D.ascensionOfAbdulBaha),172>b?4===m&&7===g?v=D.declarationOfTheBab:6===m&&16===g?v=D.martyrdomOfTheBab:12===m&&5===g?v=D.birthOfTheBab:13===m&&9===g&&(v=D.birthOfBahaullah):4===m&&8===g?v=D.declarationOfTheBab:6===m&&17===g?v=D.martyrdomOfTheBab:m===h.TB[0]&&g===h.TB[1]?v=D.birthOfTheBab:m===h.TB[2]&&g===h.TB[3]&&(v=D.birthOfBahaullah)}function n(c){var e=0;return"badi"===c?e=19>m?19*(m-1)+g:20===m?342+g:342+y+g:"nawRuz"===c?e=u.diff(f,"days")+1:"greg"===c&&(e=u.dayOfYear()),e}function r(){var c=n("nawRuz");return 343>c?[Math.floor((c-1)/19+1),(c-1)%19+1]:343+y>c?[20,c-342]:[19,c-(342+y)]}function d(){u=moment.utc({year:0,month:0,date:0}),b=-1,m=-1,g=-1,y=-1,f=moment.utc("0000-00-00"),L=!1}function i(c){for(var e=c.split("-"),a=0;a<e.length;a++){if(!/^\d+$/.test(e[a]))return!1;e[a]=parseInt(e[a])}return 3!==e.length?2===e.length&&e[1]>0&&e[1]<12?e:!1:e[1]>20||e[1]<1?!1:e[2]>19||e[2]<1?!1:e}function k(c){return y=moment([c.year()+1]).isLeapYear()?5:4}function o(c,e){if("string"!=typeof c)return"Invalid input";for(var a="",t=c.length,l=0;t>l;l++)if("{"===c.charAt(l)&&t-1>l)for(var n=l+1;t>=n;n++){if(n===t)return"Invalid input";if("}"===c.charAt(n)){l=n;break}a+=c.charAt(n)}else{var r=c.charAt(l)+c.charAt(l+1),d=r+c.charAt(l+2);w.indexOf(d)>-1?(a+=s(d,e,3),l+=2):T.indexOf(r)>-1?(a+=s(r,e,2),l++):a+=S.indexOf(c.charAt(l))>-1?s(c.charAt(l),e,1):c.charAt(l)}return a}function s(c,e,a){if(1===a)switch(c){case"d":return String(g);case"D":var t=badiLocale[e].month[g];return"’"===t.substring(4,5)&&"‘"===t.substring(0,1)?t.substring(0,5):"‘"!==t.substring(0,1)?t.replace(/<(?:.|\n)*?>/gm,"").substring(0,3):t.replace(/<(?:.|\n)*?>/gm,"").substring(0,4);case"m":return String(m);case"M":var l=badiLocale[e].month[m];return"’"===l.substring(4,5)&&"‘"===l.substring(0,1)?l.substring(0,5):"‘"!==l.substring(0,1)?l.replace(/<(?:.|\n)*?>/gm,"").substring(0,3):l.replace(/<(?:.|\n)*?>/gm,"").substring(0,4);case"W":return badiLocale[e].weekdayAbbr3[(u.isoWeekday()+1)%7+1];case"y":return String(b);case"v":return String(Math.floor((b-1)/19)+1);case"k":return String(Math.floor((b-1)/361)+1);default:return""}else if(2===a)switch(c){case"dd":return("0"+String(g)).slice(-2);case"DD":return badiLocale[e].month[g];case"mm":return("0"+String(m)).slice(-2);case"MM":return badiLocale[e].month[m];case"ww":return badiLocale[e].weekdayAbbr2[(u.isoWeekday()+1)%7+1];case"WW":return badiLocale[e].weekday[(u.isoWeekday()+1)%7+1];case"yy":return("00"+String(b)).slice(-3);case"yv":return String((b-1)%19+1);case"YV":return badiLocale[e].yearInVahid[(b-1)%19+1];case"vv":return("0"+String(String(Math.floor((b-1)/19)+1))).slice(-2);case"kk":return("0"+String(String(Math.floor((b-1)/361)+1))).slice(-2);case"BE":return badiLocale[e].BE;default:return""}else{if(3!==a)return"";switch(c){case"DDL":return badiLocale[e].monthL[g];case"DD+":return badiLocale[e].month[g]+" ("+badiLocale[e].monthL[g]+")";case"MML":return badiLocale[e].monthL[m];case"MM+":return badiLocale[e].month[m]!==badiLocale[e].monthL[m]?badiLocale[e].month[m]+" ("+badiLocale[e].monthL[m]+")":badiLocale[e].month[m];case"WWL":return badiLocale[e].weekdayL[(u.isoWeekday()+1)%7+1];case"yyv":return("0"+String((b-1)%19+1)).slice(-2);default:return""}}}if(!(this instanceof badiDate))return new badiDate(c);var u,f,h,b=0,m=0,g=0,y=0,v=!1,L=!0,B=["l4da","k4ci","k5c7","l4d6","l4ce","k4c4","k5d4","l4cb","l4c1","k4cj","k5c8","l4d7","l4cf","k4c5","k4d5","k5ce","l4c2","k4d2","k4ca","k5da","l4ch","k4c6","k4d6","k5cf","l4c4","k4d4","k4cc","k5c1","l4cj","k4c8","k4d8","k5cg","l4c5","k4d5","k4ce","k5c3","l4d2","k4ca","k4d9","k5ci","l4c6","k4d6","k4cf","k4c4","k5d4","k4cb","k4bj","k4cj","k5c9","k4d8","k4cg","k4c6","k5d6","k4cd","k4c2","k4d2","k5ca","k4d9","k4ci","k4c7","k5d7","k4cf","k4c4","k4d4","k5cc","k4bj","k4cj","k4c9","k5d9","k4cg","k4c6","k4d5","k5cd","k4c2","k4d1","k4ca","k4da","j5cj","k4c7","k4d7","k4cf","j5c4","k4d3","k4cb","k4c1","k5d1","l4c9","l4d9","l4ch","k5c6","l4d5","l4cd","l4c2","k5d2","l4ca","l4da","l4cj","k5c8","l4d7","l4cf","l4c4","k5d4","l4cb","l4c1","l4d1","k5c9","l4d8","l4cg","l4c5","k4d5","k5ce","l4c2","l4d2","k4cb","k5db","l4ci","l4c7","k4d7","k5cf","l4c4","l4d4","k4cc","k5c2","l4d1","l4c9","k4d9","k5ch","l4c5","l4d5","k4ce","k5c3","l4d2","l4cb","k4da","k5ci","l4c6","l4d6","k4cf","k5c5","l4d4","l4cc","k4c1","k4d1","k5c9","l4d8","k4cg","k4c6","k5d6","l4ce","k4c3","k4d3","k5cb","l4da","k4ci","k4c7","k5d7","l4cf","k4c5","k4d5","k5cd","l4c1","k4cj","k4c9","k5d9","l4cg","k4c6","k4d6","k5ce","l4c3","k4d2","k4ca","k5bj","l4ci","k4c7","k4d7","k4cg","k5c5","k4d4","k4cc","k4c1","k5d1","k4c9","k4d9","k4ch","k5c7","l4d6","l4ce","l4c3","l5d3","l4ca","l4da","l4cj","l5c8","l4d7","l4cg","l4c5","l5d4","l4cb","l4c1","l4d1","l5ca","l4d9","l4ch","l4c6","l5d6","l4cd","l4c2","l4d2","l4cb","k5c1","l4cj","l4c8","l4d8","k5cg","l4c4","l4d4","l4cc","k5c2","l4d1","l4ca","l4da","k5ci","l4c6","l4d5","l4ce","k5c3","l4d2","l4cb","l4db","k5cj","l4c8","l4d7","l4cf","k5c5","l4d4","l4cc","l4c2","k5d2","l4c9","l4d9","l4ch","k4c6","k5d6","l4ce","l4c3","k4d3","k5cc","l4db","l4cj","k4c8","k5d8","l4cf","l4c4","k4d5","k5cd","l4c2","l4d2","k4ca","k5d9","l4cg","l4c6","k4d6","k5cf","l4c3","l4d3","k4cb","k5bj","l4ci","l4c7","k4d7","k5cg","l4c5","l4d5","k4cd","k4c2","k5d2","l4c9","k4d9","k4ch","k5c7","l4d6","k4cf","k4c4","k5d4","l4cb","l4bj","l4cj","l5c8","m4d7","l4cg","l4c5","l5d5","m4cc","l4c1","l4d1","l5ca","m4d9","l4ch","l4c7","l5d7","m4ce","l4c3","l4d3","l5cb","m4bi","l4ci","l4c8","l4d8","l5ch","l4c5","l4d5","l4cd","l5c2","l4d1","l4c9","l4da","l5ci","l4c7","l4d7","l4cf","l5c4","l4d2","l4cb","l4bj","l5d1","l4c8","l4d8","l4cg","l5c5","l4d4","l4cc","l4c2","l5d2","l4c9","l4da","l4ci"],D={nawRuz:1,firstDayOfRidvan:2,ninthDayOfRidvan:3,twelfthDayOfRidvan:4,declarationOfTheBab:5,ascensionOfBahaullah:6,martyrdomOfTheBab:7,birthOfTheBab:8,birthOfBahaullah:9,dayOfTheCovenant:10,ascensionOfAbdulBaha:11},O=[moment.utc("1844-03-21"),moment.utc("2351-03-20")],M=[1,507];if(c instanceof Date)u=moment.utc([c.getFullYear(),c.getMonth(),c.getDate(),12]);else if(c instanceof moment)u=moment.utc([c.year(),c.month(),c.date(),12]);else if("string"==typeof c){var p=i(c);if(p)t(p);else{var j=new Date(c);u=moment.utc([j.getFullYear(),j.getMonth(),j.getDate(),12]),(u.isBefore(O[0])||u.isAfter(O[1]))&&d()}}else c instanceof Array&&(3!==c.length&&2!==c.length?d():t(c));0===b&&a(),L&&l();var w=["DDL","DD+","MML","MM+","WWL","yyv"],T=["dd","DD","mm","MM","ww","WW","yv","YV","vv","kk","yy","BE"],S=["d","D","m","M","W","v","k","y"];this.format=function(c,e){return"undefined"!=typeof e&&"undefined"!==badiLocale[e]||(e="English"),"undefined"==typeof c&&(c="d MM+ y BE"),o(c,e)},this.holyDay=function(c){return"undefined"!=typeof c&&"undefined"!==badiLocale[c]||(c="English"),v?badiLocale[c].holyDay[v]:!1},this.isValid=function(){return L},this.badiDay=function(){return g},this.badiMonth=function(){return m},this.badiYear=function(){return b},this.badiWeekday=function(){var c=(u.isoWeekday()+1)%7+1;return c},this.yearInVahid=function(){return(b-1)%19+1},this.vahid=function(){return Math.floor((b-1)/19)%19+1},this.kullIShay=function(){return Math.floor((b-1)/361)+1},this.gregDate=function(){return u},this.ayyamiHaLength=function(){return y},this.holyDayNumber=function(){return v}}